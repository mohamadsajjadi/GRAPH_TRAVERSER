# پلتفرم یکپارچه اینترنت اشیا برای ساختمان‌های هوشمند


## بررسی اجمالی

در این آزمایش، شما به‌عنوان یک تیم با همکاری یکدیگر یک پلتفرم چند ماژولی اینترنت اشیا را طراحی، توسعه و مدیریت خواهید کرد. وظایف شما شامل راه‌اندازی مخزن Git با استراتژی branching مناسب، توسعه Feature ها از طریق Pull Request ها و بازبینی کد، ادغام یک خط لوله CI/CD، و در نهایت، آماده‌سازی پروژه برای انتشار به همراه استراتژی‌های بازیابی از فاجعه است. در هر مرحله، لازم است رویکرد خود را مستند کرده و به چالش‌های پیش آمده اشاره کنید.


## فاز ۱: راه‌اندازی پروژه و استراتژی branching

### بیان مسئله:
راه‌اندازی یک مخزن مرکزی Git که از توسعه همزمان در ماژول‌های مختلف پشتیبانی کند و مستندسازی استراتژی branching و ادغام.

### وظایف و دستورالعمل‌ها:

1. راه‌اندازی مخزن:
   - وظیفه: ایجاد یک مخزن مرکزی در GitHub.
   - دستورالعمل‌ها:
     - شاخه اصلی (مانند `main` یا `master`) را به‌صورت محافظت‌شده ایجاد کنید.
     - قوانین حفاظت از شاخه (مثلاً الزام به Pull Request ها و گذراندن تست‌های CI قبل از ادغام) را تنظیم کنید.
     - این تنظیمات را در فایل README مستند کنید.
   - نقطه کنترل: ارسال یک README اولیه که شرح پروژه و استراتژی branching را توضیح می‌دهد.
2. ایجاد Feature Branch ها:
   - وظیفه: ایجاد Feature Branch ها اولیه برای هر ماژول:
     - `feature/iot-sensors`
     - `feature/web-dashboard`
   - دستورالعمل‌ها:
     - با استفاده از دستورات Git این شاخه‌ها را ایجاد و به مخزن راه دور push کنید.
     - در README توضیح دهید که هر شاخه برای چه منظوری استفاده می‌شود.
   - نقطه کنترل: ثبت فرآیند ایجاد شاخه‌ها (مثلاً با اسکرین‌شات یا خروجی لاگ Git).
3. استانداردهای کامیت و Milestones:
   - وظیفه: تعیین دستورالعمل‌های مربوط به پیام‌های کامیت و استفاده از تگ‌های Git برای نشانه‌گذاری Milestones.
   - دستورالعمل‌ها:
     - بخشی در README اضافه کنید که نحوه نوشتن پیام‌های کامیت توصیفی را توضیح دهد.
     - Milestones کلیدی (مثلاً پس از توسعه اولیه ماژول‌ها یا پس از ادغام CI/CD) را تعیین کرده و در Git تگ بزنید.
   - نقطه کنترل: به‌روزرسانی README حاوی این استانداردها و ثبت تغییرات.


## فاز ۲: توسعه Feature ها، مدیریت Pull Request ها و بازبینی کد

### بیان مسئله:
توسعه همزمان Feature ها، مدیریت Pull Request ها و اجرای فرآیند منظم بازبینی کد.

### وظایف و دستورالعمل‌ها:

1. توسعه در Feature Branch ها:
   - وظیفه: در هر feature branch، کد اولیه یا فایل‌های پیکربندی مربوط به ماژول مربوطه را اضافه کنید.
   - دستورالعمل‌ها:
     - برای مثال، در شاخه `feature/iot-sensors` یک اسکریپت ساده یا پیکربندی برای شبیه‌سازی جمع‌آوری داده‌های سنسور ایجاد کنید.
     - در شاخه `feature/web-dashboard` یک فایل HTML/JavaScript نمونه اضافه کنید.
     - تغییرات را با پیام‌های کامیت واضح ثبت کنید.
   - نقطه کنترل: تأیید ایجاد فایل‌های مربوط به feature از طریق diff و لاگ‌های کامیت.
2. روال Pull Request:
   - وظیفه: ایجاد Pull Request ها زمانی که یک feature آماده بررسی است.
   - دستورالعمل‌ها:
     - هر عضو تیم یک Pull Request از feature branch خود به شاخه `main` (یا شاخه ادغام جداگانه) باز کند.
     - از امکانات کامنت‌گذاری Git برای بحث در مورد تغییرات کد و رفع تعارضات استفاده کنید.
   - نقطه کنترل: مستندسازی یک گفت‌وگوی مربوط به Pull Request (یا خلاصه‌ای در مستندات) که نحوه بازبینی کد را توضیح می‌دهد.
3. ایجاد Git Aliases و ارجاع به Pull Request ها:
   - وظیفه: ایجاد aliasهای Git برای خودکارسازی دریافت و checkout کردن ارجاعات Pull Request ها.
   - دستورالعمل‌ها:
     - یک alias (مثلاً در فایل `.gitconfig`) ایجاد کنید تا تمام شاخه‌های Pull Request از مخزن راه دور دریافت شوند.
     - نحوه دریافت یک Pull Request خاص به‌صورت محلی را نشان دهید (مثلاً با دستور `git fetch origin pull/ID/head:pr-branch`).
     - این دستورات را در فایلی به نام `GitCommands.md` مستند کنید.
   - نقطه کنترل: ثبت به‌روزرسانی `.gitconfig` و فایل `GitCommands.md`.
4. ادغام ابزارهای کیفیت کد:
   - وظیفه: ادغام یک ابزار تحلیل استاتیک (مانند ESLint یا SonarQube) و یک فریم‌ورک تست.
   - دستورالعمل‌ها:
     - فایل‌های پیکربندی مربوطه (مثلاً `.eslintrc.json`) را ایجاد کرده و حداقل یک تست ساده برای یکی از ماژول‌ها بنویسید.
     - چک‌لیست و دستورالعمل‌های بازبینی کد را در فایلی به نام `CodeReviewGuidelines.md` مستند کنید.
   - نقطه کنترل: ثبت فایل‌های پیکربندی و مستندات مربوط به بازبینی کد.



## فاز ۳: ادغام DevOps و پیاده‌سازی خط لوله CI/CD

### بیان مسئله:
خودکارسازی فرآیند ساخت، تست و استقرار با ادغام یک خط لوله CI/CD.

### وظایف و دستورالعمل‌ها:

1. راه‌اندازی خط لوله CI/CD:
   - وظیفه: انتخاب یک ابزار CI/CD (مثلاً GitHub Actions) و پیکربندی آن.
   - دستورالعمل‌ها:
     - یک فایل پیکربندی خط لوله (مثلاً `.github/workflows/ci-cd.yml`) ایجاد کنید.
     - اطمینان حاصل کنید که خط لوله با هر کامیت جدید و Pull Request های ادغام شده، فعال می‌شود.
     - مراحل اجرای تحلیل استاتیک، اجرای تست‌های واحد/یکپارچه و استقرار به محیط staging را اضافه کنید.
   - نقطه کنترل: ثبت فایل پیکربندی CI/CD و تأیید اجرای موفقیت‌آمیز خط لوله با کامیت‌های نمونه.
2. خودکارسازی ادغام شاخه‌ها:
   - وظیفه: تنظیم خط لوله به‌گونه‌ای که پس از موفقیت‌آمیز بودن تست‌ها، ادغام Feature Branch ها را به‌صورت خودکار انجام دهد.
   - دستورالعمل‌ها:
     - اسکریپت‌هایی را ادغام کنید که وضعیت عبور تست‌ها را بررسی کرده و Feature Branch ها را در صورت موفقیت به‌صورت خودکار ادغام کنند (در صورت لزوم).
     - نحوه پیکربندی این خودکارسازی را مستند کنید.
   - نقطه کنترل: ثبت اسکریپت‌های خودکارسازی و افزودن توضیحات مربوط به آن‌ها در مستندات.
3. پایش و گزارش خطا:
   - وظیفه: پیکربندی اعلان‌ها یا گزارش‌دهی خطا در سیستم CI/CD.
   - دستورالعمل‌ها:
     - اعلان‌های ایمیلی یا در Slack برای شکست‌های بیلد تنظیم کنید.
     - مراحل عیب‌یابی را در مستندات توضیح دهید.
   - نقطه کنترل: به‌روزرسانی README شامل توضیحات مربوط به پایش و گزارش خطا.



## فاز ۴: مهندسی انتشار و بازیابی از فاجعه

### بیان مسئله:
پروژه را برای اولین انتشار بزرگ آماده کرده و استراتژی‌های قوی برای بازیابی از فاجعه و بازگرداندن نسخه‌های قبلی را پیاده‌سازی کنید.

### وظایف و دستورالعمل‌ها:

1. فرآیند مدیریت انتشار:
   - وظیفه: تدوین و مستندسازی یک فرآیند انتشار.
   - دستورالعمل‌ها:
     - اسکریپت یا روشی مستند برای تگ‌گذاری نسخه (مثلاً `v1.0.0`)، نوشتن یادداشت‌های انتشار و استقرار در محیط تولید ایجاد کنید.
     - از Feature های تگ‌گذاری Git برای نشانه‌گذاری نسخه‌های پایدار استفاده کنید.
     - این اطلاعات را در فایلی به نام `ReleaseProcess.md` اضافه کنید.
   - نقطه کنترل: ثبت فایل `ReleaseProcess.md` و ایجاد یک تگ Git برای یک کامیت پایدار.
2. استراتژی‌های بازگشت به نسخه قبلی:
   - وظیفه: پیاده‌سازی استراتژی‌هایی برای بازگشت به نسخه‌های قبلی در صورت شکست استقرار.
   - دستورالعمل‌ها:
     - اسکریپت‌هایی بنویسید که امکان بازگشت سریع به یک کامیت قبلی را فراهم کنند.
     - یک برنامه بازیابی از فاجعه به‌صورت گام به گام (شامل سناریوهای شبیه‌سازی‌شده مانند فساد داده) تدوین و مستند کنید.
     - این موارد را در فایلی به نام `DisasterRecoveryPlan.md` اضافه کنید.
   - نقطه کنترل: ثبت اسکریپت‌های بازگشت و مستندات مربوط به بازیابی از فاجعه.
3. تست انتشار و بازیابی:
   - وظیفه: شبیه‌سازی یک سناریوی شکست انتشار.
   - دستورالعمل‌ها:
     - یک شکست کنترل‌شده (مثلاً ارسال یک کامیت با خطای عمدی) ایجاد کنید و سپس استراتژی بازگشت را اجرا کنید.
     - روند و نتایج را در گزارش نهایی مستند کنید.
   - نقطه کنترل: ثبت لاگ‌ها و یادداشت‌هایی که نتایج تست را خلاصه می‌کنند.



## خلاصه نقاط کنترل و تحویل‌ها

- راه‌اندازی اولیه:  
  - ایجاد مخزن، تنظیم قوانین محافظت از شاخه، README و برنامه اسپرینت.
- توسعه Feature ها:  
  - ایجاد Feature Branch ها، Pull Request ها، پیکربندی aliasهای Git، تنظیمات تحلیل استاتیک و تست.
- خط لوله CI/CD:  
  - فایل پیکربندی CI/CD، اسکریپت‌های خودکارسازی ادغام و مستندات مربوط به پایش.
- انتشار و بازیابی:  
  - مستندسازی فرآیند انتشار، اسکریپت‌های بازگشت به نسخه قبلی و لاگ‌های تست بازیابی از فاجعه.